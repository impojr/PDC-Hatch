import*as fs from"fs";import*as saveManager from"./save.js";export class Pokemon{constructor(e){var t=fs.readFileSync("/mnt/assets/resources/pokemon.json","json")[e-1];this.id=t.id,this.name=t.name,this.exp=0,this.friendship=0,this.dateHatched=null,this.data=t}};export function getNewPokemon(e){return new Pokemon(e)};export function getLevelInt(e){return Math.floor(e.exp/5e3)};export function getNxtLvlPercent(e){return getLevelInt(e)>=100?1:e.exp%5e3/5e3};export function getLevel(e){var t=Math.floor(e.exp/5e3);return t>=100?"MAX":0==t?"EGG":t<10?"L0"+t:"L"+t};export function getFriendship(e){var t=Math.floor(e.friendship/5e3);return"hearts-"+(t=t>10?10:t)};export function walk(e){var t=saveManager.loadState(),n=t.pokemon[0];if(n.exp+=e.Steps,n.friendship+=e.Friendship,null==n.dateHatched&&n.exp>5e3)n.dateHatched=saveManager.formatDate(new Date),t.eggsHatched+=1,n.friendship+=1500;else if(n.data.evolves<=getLevelInt(n)){var a;133==n.id?t.hasVaporeon?t.hasJolteon?a=new Pokemon(136):(t.hasJolteon=!0,a=new Pokemon(135)):(t.hasVaporeon=!0,a=new Pokemon(134)):a=new Pokemon(n.data.into),n.id=a.id,n.name=a.name,n.data=a.data,n.friendship+=1e3}t.lastSyncDate={SyncDate:e.SyncDate,SyncTime:e.SyncTime},saveManager.saveState(t)};export function getImg(e){return getLevelInt(e)>=100?e.data.mega?e.id+"M":e.id:"EGG"==getLevel(e)?0:e.id};export function getName(e){return"EGG"==getLevel(e)?"Egg":e.name};export function isEgg(e){return e.exp<5e3};